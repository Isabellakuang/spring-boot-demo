<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCB RAG Demo - 系统架构图</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // 图标组件 (简化版)
        const Icon = ({ name, size = 24, className = "" }) => {
            const icons = {
                users: "M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2M9 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z",
                globe: "M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm0 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16z",
                server: "M4 6h16M4 12h16M4 18h16",
                database: "M12 2C6.5 2 2 3.3 2 5v14c0 1.7 4.5 3 10 3s10-1.3 10-3V5c0-1.7-4.5-3-10-3z",
                cloud: "M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z",
                layers: "M2 12l10-7 10 7-10 7z M2 17l10 7 10-7",
                file: "M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z",
                search: "M11 19a8 8 0 1 0 0-16 8 8 0 0 0 0 16z M21 21l-4.35-4.35",
                cpu: "M9 3h6M9 21h6M3 9v6M21 9v6",
                shield: "M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",
                activity: "M22 12h-4l-3 9L9 3l-3 9H2",
                harddrive: "M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"
            };
            
            return (
                <svg 
                    width={size} 
                    height={size} 
                    viewBox="0 0 24 24" 
                    fill="none" 
                    stroke="currentColor" 
                    strokeWidth="2" 
                    strokeLinecap="round" 
                    strokeLinejoin="round"
                    className={className}
                >
                    <path d={icons[name] || icons.globe} />
                </svg>
            );
        };

        const ArchitectureDiagram = () => {
            const [activeTab, setActiveTab] = useState('overall');

            const OverallArchitecture = () => (
                <div className="w-full h-full bg-gradient-to-br from-blue-50 to-indigo-50 p-8 rounded-lg">
                    <h3 className="text-2xl font-bold text-center mb-8 text-indigo-900">SCB RAG Demo - 整体架构</h3>
                    
                    {/* User Layer */}
                    <div className="mb-6">
                        <div className="bg-gradient-to-r from-purple-500 to-pink-500 text-white p-4 rounded-lg shadow-lg flex items-center justify-center">
                            <Icon name="users" className="mr-3" />
                            <span className="font-semibold text-lg">用户层 (浏览器/移动端)</span>
                        </div>
                        <div className="flex justify-center my-3">
                            <div className="w-1 h-8 bg-gray-400"></div>
                        </div>
                    </div>

                    {/* Kubernetes Cluster */}
                    <div className="border-4 border-blue-600 rounded-xl p-6 bg-white shadow-2xl">
                        <div className="text-center mb-6">
                            <h4 className="text-xl font-bold text-blue-600 flex items-center justify-center">
                                <Icon name="cloud" className="mr-2" size={28} />
                                Kubernetes 集群 (Namespace: scb-rag-demo)
                            </h4>
                        </div>

                        <div className="grid grid-cols-2 gap-6 mb-6">
                            {/* Frontend */}
                            <div className="border-2 border-green-500 rounded-lg p-4 bg-green-50">
                                <div className="flex items-center mb-3">
                                    <Icon name="globe" className="text-green-600 mr-2" />
                                    <h5 className="font-bold text-green-700">Frontend</h5>
                                </div>
                                <div className="text-sm space-y-1 text-gray-700">
                                    <p>• React + Nginx</p>
                                    <p>• NodePort: 30000</p>
                                    <p>• Replicas: 2-4 (HPA)</p>
                                    <p>• CPU: 100m-200m</p>
                                    <p>• Memory: 128Mi-256Mi</p>
                                </div>
                            </div>

                            {/* Backend */}
                            <div className="border-2 border-blue-500 rounded-lg p-4 bg-blue-50">
                                <div className="flex items-center mb-3">
                                    <Icon name="server" className="text-blue-600 mr-2" />
                                    <h5 className="font-bold text-blue-700">Backend</h5>
                                </div>
                                <div className="text-sm space-y-1 text-gray-700">
                                    <p>• Spring Boot</p>
                                    <p>• ClusterIP: 8080</p>
                                    <p>• Replicas: 2-5 (HPA)</p>
                                    <p>• CPU: 500m-1000m</p>
                                    <p>• Memory: 512Mi-1Gi</p>
                                </div>
                            </div>

                            {/* PostgreSQL */}
                            <div className="border-2 border-orange-500 rounded-lg p-4 bg-orange-50">
                                <div className="flex items-center mb-3">
                                    <Icon name="database" className="text-orange-600 mr-2" />
                                    <h5 className="font-bold text-orange-700">PostgreSQL</h5>
                                </div>
                                <div className="text-sm space-y-1 text-gray-700">
                                    <p>• Version: 15-alpine</p>
                                    <p>• ClusterIP: 5432</p>
                                    <p>• PVC: 5Gi</p>
                                    <p>• CPU: 250m-500m</p>
                                    <p>• Memory: 256Mi-512Mi</p>
                                </div>
                            </div>

                            {/* Redis */}
                            <div className="border-2 border-red-500 rounded-lg p-4 bg-red-50">
                                <div className="flex items-center mb-3">
                                    <Icon name="harddrive" className="text-red-600 mr-2" />
                                    <h5 className="font-bold text-red-700">Redis</h5>
                                </div>
                                <div className="text-sm space-y-1 text-gray-700">
                                    <p>• Version: 7-alpine</p>
                                    <p>• ClusterIP: 6379</p>
                                    <p>• TTL: 1 hour</p>
                                    <p>• CPU: 100m-200m</p>
                                    <p>• Memory: 128Mi-256Mi</p>
                                </div>
                            </div>
                        </div>

                        {/* HPA */}
                        <div className="border-2 border-purple-400 rounded-lg p-4 bg-purple-50 mb-4">
                            <div className="flex items-center mb-2">
                                <Icon name="activity" className="text-purple-600 mr-2" size={20} />
                                <h5 className="font-semibold text-purple-700">HPA (自动扩缩容)</h5>
                            </div>
                            <div className="text-sm text-gray-700 grid grid-cols-2 gap-2">
                                <p>• Backend: 2-5 副本 (CPU 70%, Mem 80%)</p>
                                <p>• Frontend: 2-4 副本 (CPU 70%)</p>
                            </div>
                        </div>

                        {/* ConfigMap & Secret */}
                        <div className="border-2 border-yellow-400 rounded-lg p-4 bg-yellow-50">
                            <div className="flex items-center mb-2">
                                <Icon name="shield" className="text-yellow-600 mr-2" size={20} />
                                <h5 className="font-semibold text-yellow-700">ConfigMap & Secret</h5>
                            </div>
                            <div className="text-sm text-gray-700">
                                <p>• 数据库凭证 • Redis配置 • Poe API密钥</p>
                            </div>
                        </div>
                    </div>

                    {/* External Service */}
                    <div className="mt-6">
                        <div className="flex justify-center my-3">
                            <div className="w-1 h-8 bg-gray-400"></div>
                        </div>
                        <div className="bg-gradient-to-r from-indigo-500 to-blue-500 text-white p-4 rounded-lg shadow-lg flex items-center justify-center">
                            <Icon name="cloud" className="mr-3" />
                            <span className="font-semibold text-lg">外部服务: Poe API (Claude-3.5-Sonnet)</span>
                        </div>
                    </div>
                </div>
            );

            const BackendArchitecture = () => (
                <div className="w-full h-full bg-gradient-to-br from-blue-50 to-purple-50 p-8 rounded-lg">
                    <h3 className="text-2xl font-bold text-center mb-8 text-purple-900">后端分层架构</h3>
                    
                    <div className="space-y-4">
                        {/* Controller Layer */}
                        <div className="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-lg shadow-lg">
                            <div className="flex items-center mb-3">
                                <Icon name="layers" className="mr-3" />
                                <h4 className="text-xl font-bold">Controller 层</h4>
                            </div>
                            <div className="grid grid-cols-2 gap-3 text-sm">
                                <div className="bg-white bg-opacity-20 p-2 rounded">DocumentController</div>
                                <div className="bg-white bg-opacity-20 p-2 rounded">QueryController</div>
                                <div className="bg-white bg-opacity-20 p-2 rounded">HealthController</div>
                                <div className="bg-white bg-opacity-20 p-2 rounded">HistoryController</div>
                            </div>
                        </div>

                        <div className="flex justify-center">
                            <div className="w-1 h-12 bg-gradient-to-b from-blue-600 to-green-600"></div>
                        </div>

                        {/* Service Layer */}
                        <div className="bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-lg shadow-lg">
                            <div className="flex items-center mb-3">
                                <Icon name="server" className="mr-3" />
                                <h4 className="text-xl font-bold">Service 层</h4>
                            </div>
                            <div className="grid grid-cols-2 gap-3 text-sm">
                                <div className="bg-white bg-opacity-20 p-2 rounded">DocumentService</div>
                                <div className="bg-white bg-opacity-20 p-2 rounded">QueryService</div>
                                <div className="bg-white bg-opacity-20 p-2 rounded">RouterService</div>
                                <div className="bg-white bg-opacity-20 p-2 rounded">PoeClientService</div>
                            </div>
                        </div>

                        <div className="flex justify-center">
                            <div className="w-1 h-12 bg-gradient-to-b from-green-600 to-orange-600"></div>
                        </div>

                        {/* Repository Layer */}
                        <div className="bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6 rounded-lg shadow-lg">
                            <div className="flex items-center mb-3">
                                <Icon name="database" className="mr-3" />
                                <h4 className="text-xl font-bold">Repository 层</h4>
                            </div>
                            <div className="grid grid-cols-2 gap-3 text-sm">
                                <div className="bg-white bg-opacity-20 p-2 rounded">DocumentRepository</div>
                                <div className="bg-white bg-opacity-20 p-2 rounded">DocumentChunkRepository</div>
                                <div className="bg-white bg-opacity-20 p-2 rounded col-span-2">QueryHistoryRepository</div>
                            </div>
                        </div>

                        <div className="flex justify-center">
                            <div className="w-1 h-12 bg-gradient-to-b from-orange-600 to-red-600"></div>
                        </div>

                        {/* Data Layer */}
                        <div className="bg-gradient-to-r from-red-500 to-red-600 text-white p-6 rounded-lg shadow-lg">
                            <div className="flex items-center mb-3">
                                <Icon name="harddrive" className="mr-3" />
                                <h4 className="text-xl font-bold">数据库层</h4>
                            </div>
                            <div className="grid grid-cols-2 gap-3 text-sm">
                                <div className="bg-white bg-opacity-20 p-3 rounded">
                                    <p className="font-semibold mb-1">PostgreSQL</p>
                                    <p className="text-xs">文档、片段、历史</p>
                                </div>
                                <div className="bg-white bg-opacity-20 p-3 rounded">
                                    <p className="font-semibold mb-1">Redis</p>
                                    <p className="text-xs">查询缓存 (1h TTL)</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const DataFlowDiagram = () => (
                <div className="w-full h-full bg-gradient-to-br from-green-50 to-blue-50 p-8 rounded-lg">
                    <h3 className="text-2xl font-bold text-center mb-8 text-green-900">数据流程图</h3>
                    
                    <div className="space-y-8">
                        {/* Document Upload Flow */}
                        <div className="border-4 border-green-500 rounded-xl p-6 bg-white shadow-xl">
                            <h4 className="text-xl font-bold text-green-700 mb-4 flex items-center">
                                <Icon name="file" className="mr-2" />
                                文档上传流程
                            </h4>
                            <div className="flex items-center justify-between flex-wrap gap-2">
                                <div className="bg-purple-100 border-2 border-purple-400 p-3 rounded-lg text-center flex-1 min-w-[100px]">
                                    <Icon name="users" className="mx-auto mb-2 text-purple-600" size={20} />
                                    <p className="text-sm font-semibold">用户上传</p>
                                </div>
                                <div className="text-2xl text-gray-400">→</div>
                                <div className="bg-blue-100 border-2 border-blue-400 p-3 rounded-lg text-center flex-1 min-w-[100px]">
                                    <Icon name="globe" className="mx-auto mb-2 text-blue-600" size={20} />
                                    <p className="text-sm font-semibold">Frontend</p>
                                </div>
                                <div className="text-2xl text-gray-400">→</div>
                                <div className="bg-green-100 border-2 border-green-400 p-3 rounded-lg text-center flex-1 min-w-[100px]">
                                    <Icon name="server" className="mx-auto mb-2 text-green-600" size={20} />
                                    <p className="text-sm font-semibold">Backend验证</p>
                                </div>
                                <div className="text-2xl text-gray-400">→</div>
                                <div className="bg-yellow-100 border-2 border-yellow-400 p-3 rounded-lg text-center flex-1 min-w-[100px]">
                                    <Icon name="file" className="mx-auto mb-2 text-yellow-600" size={20} />
                                    <p className="text-sm font-semibold">PDF解析</p>
                                </div>
                                <div className="text-2xl text-gray-400">→</div>
                                <div className="bg-orange-100 border-2 border-orange-400 p-3 rounded-lg text-center flex-1 min-w-[100px]">
                                    <Icon name="layers" className="mx-auto mb-2 text-orange-600" size={20} />
                                    <p className="text-sm font-semibold">智能分片</p>
                                </div>
                                <div className="text-2xl text-gray-400">→</div>
                                <div className="bg-red-100 border-2 border-red-400 p-3 rounded-lg text-center flex-1 min-w-[100px]">
                                    <Icon name="database" className="mx-auto mb-2 text-red-600" size={20} />
                                    <p className="text-sm font-semibold">存储DB</p>
                                </div>
                            </div>
                            <div className="mt-4 text-sm text-gray-600 bg-gray-50 p-3 rounded">
                                <p><strong>关键参数:</strong> 文件大小≤10MB | 块大小500字符 | 重叠50字符 | 异步处理</p>
                            </div>
                        </div>

                        {/* Query Processing Flow */}
                        <div className="border-4 border-blue-500 rounded-xl p-6 bg-white shadow-xl">
                            <h4 className="text-xl font-bold text-blue-700 mb-4 flex items-center">
                                <Icon name="search" className="mr-2" />
                                查询处理流程
                            </h4>
                            <div className="space-y-4">
                                <div className="flex items-center justify-between flex-wrap gap-2">
                                    <div className="bg-purple-100 border-2 border-purple-400 p-3 rounded-lg text-center flex-1 min-w-[120px]">
                                        <Icon name="users" className="mx-auto mb-2 text-purple-600" size={20} />
                                        <p className="text-sm font-semibold">用户查询</p>
                                    </div>
                                    <div className="text-2xl text-gray-400">→</div>
                                    <div className="bg-blue-100 border-2 border-blue-400 p-3 rounded-lg text-center flex-1 min-w-[120px]">
                                        <Icon name="globe" className="mx-auto mb-2 text-blue-600" size={20} />
                                        <p className="text-sm font-semibold">Frontend</p>
                                    </div>
                                    <div className="text-2xl text-gray-400">→</div>
                                    <div className="bg-green-100 border-2 border-green-400 p-3 rounded-lg text-center flex-1 min-w-[120px]">
                                        <Icon name="server" className="mx-auto mb-2 text-green-600" size={20} />
                                        <p className="text-sm font-semibold">Backend路由</p>
                                    </div>
                                </div>
                                
                                <div className="grid grid-cols-2 gap-4">
                                    <div className="border-2 border-indigo-400 rounded-lg p-4 bg-indigo-50">
                                        <h5 className="font-bold text-indigo-700 mb-2">RAG 模式</h5>
                                        <div className="space-y-2 text-sm">
                                            <div className="bg-white p-2 rounded flex items-center">
                                                <Icon name="database" className="mr-2 text-orange-600" size={16} />
                                                <span>PostgreSQL 全文搜索</span>
                                            </div>
                                            <div className="bg-white p-2 rounded flex items-center">
                                                <Icon name="layers" className="mr-2 text-yellow-600" size={16} />
                                                <span>Top-K片段 (K=5)</span>
                                            </div>
                                            <div className="bg-white p-2 rounded flex items-center">
                                                <Icon name="cloud" className="mr-2 text-blue-600" size={16} />
                                                <span>Poe API 生成答案</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div className="border-2 border-pink-400 rounded-lg p-4 bg-pink-50">
                                        <h5 className="font-bold text-pink-700 mb-2">NLP 模式</h5>
                                        <div className="space-y-2 text-sm">
                                            <div className="bg-white p-2 rounded flex items-center">
                                                <Icon name="search" className="mr-2 text-purple-600" size={16} />
                                                <span>关键词检测</span>
                                            </div>
                                            <div className="bg-white p-2 rounded flex items-center">
                                                <Icon name="cloud" className="mr-2 text-blue-600" size={16} />
                                                <span>直接调用 Poe API</span>
                                            </div>
                                            <div className="bg-white p-2 rounded text-center text-gray-500">
                                                (无需检索文档)
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div className="flex items-center justify-between bg-gradient-to-r from-red-50 to-pink-50 p-3 rounded-lg flex-wrap gap-2">
                                    <div className="flex items-center">
                                        <Icon name="harddrive" className="mr-2 text-red-600" size={20} />
                                        <span className="text-sm font-semibold">Redis 缓存 (SHA-256 Key, 1h TTL)</span>
                                    </div>
                                    <div className="text-2xl text-gray-400">⇄</div>
                                    <div className="flex items-center">
                                        <Icon name="database" className="mr-2 text-orange-600" size={20} />
                                        <span className="text-sm font-semibold">查询历史存储</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const TechStackDiagram = () => (
                <div className="w-full h-full bg-gradient-to-br from-purple-50 to-pink-50 p-8 rounded-lg">
                    <h3 className="text-2xl font-bold text-center mb-8 text-purple-900">技术栈架构</h3>
                    
                    <div className="grid grid-cols-2 gap-6">
                        {/* Backend Stack */}
                        <div className="border-4 border-blue-500 rounded-xl p-6 bg-white shadow-xl">
                            <h4 className="text-xl font-bold text-blue-700 mb-4 flex items-center">
                                <Icon name="server" className="mr-2" />
                                后端技术栈
                            </h4>
                            <div className="space-y-3">
                                <div className="bg-blue-50 p-3 rounded-lg">
                                    <p className="font-semibold text-blue-900">核心框架</p>
                                    <p className="text-sm text-gray-700">• Java 17</p>
                                    <p className="text-sm text-gray-700">• Spring Boot 3.2.0</p>
                                    <p className="text-sm text-gray-700">• Spring Data JPA</p>
                                </div>
                                <div className="bg-orange-50 p-3 rounded-lg">
                                    <p className="font-semibold text-orange-900">数据层</p>
                                    <p className="text-sm text-gray-700">• PostgreSQL 15</p>
                                    <p className="text-sm text-gray-700">• Redis 7</p>
                                    <p className="text-sm text-gray-700">• HikariCP</p>
                                </div>
                                <div className="bg-green-50 p-3 rounded-lg">
                                    <p className="font-semibold text-green-900">工具库</p>
                                    <p className="text-sm text-gray-700">• Apache PDFBox 2.0.30</p>
                                    <p className="text-sm text-gray-700">• Lombok 1.18.30</p>
                                    <p className="text-sm text-gray-700">• Swagger/OpenAPI 3.0</p>
                                </div>
                            </div>
                        </div>

                        {/* Frontend Stack */}
                        <div className="border-4 border-green-500 rounded-xl p-6 bg-white shadow-xl">
                            <h4 className="text-xl font-bold text-green-700 mb-4 flex items-center">
                                <Icon name="globe" className="mr-2" />
                                前端技术栈
                            </h4>
                            <div className="space-y-3">
                                <div className="bg-green-50 p-3 rounded-lg">
                                    <p className="font-semibold text-green-900">UI框架</p>
                                    <p className="text-sm text-gray-700">• React 18.2.0</p>
                                    <p className="text-sm text-gray-700">• Tailwind CSS 3.4.0</p>
                                    <p className="text-sm text-gray-700">• Vite 5.0.0</p>
                                </div>
                                <div className="bg-purple-50 p-3 rounded-lg">
                                    <p className="font-semibold text-purple-900">状态 & 工具</p>
                                    <p className="text-sm text-gray-700">• Zustand 4.4.7</p>
                                    <p className="text-sm text-gray-700">• Axios 1.6.2</p>
                                    <p className="text-sm text-gray-700">• React Markdown 9.0.1</p>
                                </div>
                                <div className="bg-blue-50 p-3 rounded-lg">
                                    <p className="font-semibold text-blue-900">服务器</p>
                                    <p className="text-sm text-gray-700">• Nginx 1.25-alpine</p>
                                    <p className="text-sm text-gray-700">• HTTP/2 支持</p>
                                    <p className="text-sm text-gray-700">• Gzip 压缩</p>
                                </div>
                            </div>
                        </div>

                        {/* Infrastructure */}
                        <div className="border-4 border-purple-500 rounded-xl p-6 bg-white shadow-xl">
                            <h4 className="text-xl font-bold text-purple-700 mb-4 flex items-center">
                                <Icon name="cloud" className="mr-2" />
                                基础设施
                            </h4>
                            <div className="space-y-3">
                                <div className="bg-indigo-50 p-3 rounded-lg">
                                    <p className="font-semibold text-indigo-900">容器化</p>
                                    <p className="text-sm text-gray-700">• Docker (多阶段构建)</p>
                                    <p className="text-sm text-gray-700">• Kubernetes 1.28+</p>
                                    <p className="text-sm text-gray-700">• HPA 自动扩缩容</p>
                                </div>
                                <div className="bg-pink-50 p-3 rounded-lg">
                                    <p className="font-semibold text-pink-900">存储</p>
                                    <p className="text-sm text-gray-700">• PVC: PostgreSQL 5Gi</p>
                                    <p className="text-sm text-gray-700">• PVC: Uploads 2Gi</p>
                                    <p className="text-sm text-gray-700">• StorageClass: standard</p>
                                </div>
                            </div>
                        </div>

                        {/* External Services */}
                        <div className="border-4 border-pink-500 rounded-xl p-6 bg-white shadow-xl">
                            <h4 className="text-xl font-bold text-pink-700 mb-4 flex items-center">
                                <Icon name="cpu" className="mr-2" />
                                外部服务 & AI
                            </h4>
                            <div className="space-y-3">
                                <div className="bg-pink-50 p-3 rounded-lg">
                                    <p className="font-semibold text-pink-900">AI 模型</p>
                                    <p className="text-sm text-gray-700">• Poe API</p>
                                    <p className="text-sm text-gray-700">• Claude-3.5-Sonnet</p>
                                    <p className="text-sm text-gray-700">• 智能路由 (NLP/RAG)</p>
                                </div>
                                <div className="bg-yellow-50 p-3 rounded-lg">
                                    <p className="font-semibold text-yellow-900">配置管理</p>
                                    <p className="text-sm text-gray-700">• ConfigMap (配置)</p>
                                    <p className="text-sm text-gray-700">• Secret (凭证)</p>
                                    <p className="text-sm text-gray-700">• 环境变量注入</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="mt-6 border-4 border-gray-400 rounded-xl p-4 bg-gradient-to-r from-gray-50 to-gray-100 shadow-lg">
                        <h5 className="font-bold text-gray-800 mb-2 flex items-center">
                            <Icon name="shield" className="mr-2" size={20} />
                            安全 & 监控
                        </h5>
                        <div className="grid grid-cols-3 gap-3 text-sm">
                            <div className="bg-white p-2 rounded shadow">
                                <p className="font-semibold text-red-700">安全策略</p>
                                <p className="text-xs text-gray-600">• 非root用户运行</p>
                                <p className="text-xs text-gray-600">• 资源限制</p>
                                <p className="text-xs text-gray-600">• 输入验证</p>
                            </div>
                            <div className="bg-white p-2 rounded shadow">
                                <p className="font-semibold text-green-700">健康检查</p>
                                <p className="text-xs text-gray-600">• Liveness Probe</p>
                                <p className="text-xs text-gray-600">• Readiness Probe</p>
                                <p className="text-xs text-gray-600">• /health 端点</p>
                            </div>
                            <div className="bg-white p-2 rounded shadow">
                                <p className="font-semibold text-blue-700">日志 & 监控</p>
                                <p className="text-xs text-gray-600">• Logback (JSON)</p>
                                <p className="text-xs text-gray-600">• Nginx 访问日志</p>
                                <p className="text-xs text-gray-600">• 性能监控 (AOP)</p>
                            </div>
                        </div>
                    </div>
                </div>
            );

            return (
                <div className="w-full max-w-7xl mx-auto p-6 bg-white rounded-xl shadow-2xl">
                    <div className="mb-6">
                        <h2 className="text-3xl font-bold text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4">
                            SCB RAG Demo 系统架构可视化
                        </h2>
                        
                        {/* Tab Navigation */}
                        <div className="flex justify-center space-x-2 mb-6 flex-wrap gap-2">
                            <button
                                onClick={() => setActiveTab('overall')}
                                className={`px-6 py-3 rounded-lg font-semibold transition-all ${
                                    activeTab === 'overall'
                                        ? 'bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg scale-105'
                                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                }`}
                            >
                                整体架构
                            </button>
                            <button
                                onClick={() => setActiveTab('backend')}
                                className={`px-6 py-3 rounded-lg font-semibold transition-all ${
                                    activeTab === 'backend'
                                        ? 'bg-gradient-to-r from-green-500 to-blue-500 text-white shadow-lg scale-105'
                                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                }`}
                            >
                                后端分层
                            </button>
                            <button
                                onClick={() => setActiveTab('dataflow')}
                                className={`px-6 py-3 rounded-lg font-semibold transition-all ${
                                    activeTab === 'dataflow'
                                        ? 'bg-gradient-to-r from-green-500 to-teal-500 text-white shadow-lg scale-105'
                                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                }`}
                            >
                                数据流程
                            </button>
                            <button
                                onClick={() => setActiveTab('techstack')}
                                className={`px-6 py-3 rounded-lg font-semibold transition-all ${
                                    activeTab === 'techstack'
                                        ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg scale-105'
                                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                }`}
                            >
                                技术栈
                            </button>
                        </div>
                    </div>

                    {/* Tab Content */}
                    <div className="min-h-screen">
                        {activeTab === 'overall' && <OverallArchitecture />}
                        {activeTab === 'backend' && <BackendArchitecture />}
                        {activeTab === 'dataflow' && <DataFlowDiagram />}
                        {activeTab === 'techstack' && <TechStackDiagram />}
                    </div>

                    {/* Footer Info */}
                    <div className="mt-8 p-4 bg-gradient-to-r from-gray-100 to-gray-200 rounded-lg">
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 text-center text-sm">
                            <div>
                                <p className="font-bold text-blue-700">访问地址</p>
                                <p className="text-gray-600">http://localhost:30000</p>
                            </div>
                            <div>
                                <p className="font-bold text-green-700">API文档</p>
                                <p className="text-gray-600">/api/swagger-ui.html</p>
                            </div>
                            <div>
                                <p className="font-bold text-orange-700">命名空间</p>
                                <p className="text-gray-600">scb-rag-demo</p>
                            </div>
                            <div>
                                <p className="font-bold text-purple-700">文档版本</p>
                                <p className="text-gray-600">v2.0 (2025-01-09)</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<ArchitectureDiagram />, document.getElementById('root'));
    </script>
</body>
</html>